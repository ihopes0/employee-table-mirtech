<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <input type="hidden" formControlName="id" />

  <div class="form-group">
    <label for="fullName">Ф.И.О.</label>
    <input
      type="text"
      id="fullName"
      formControlName="fullName"
      class="form-control"
    />
    <div
      *ngIf="form.get('fullName')?.touched && form.get('fullName')?.invalid"
      class="text-danger"
    >
      <div *ngIf="form.get('fullName')?.errors?.['required']">
        Заполните ФИО
      </div>
      <div *ngIf="form.get('fullName')?.errors?.['maxlength']">
        Максимальная длина - 100 знаков
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="birthDate">Дата рождения</label>
        <input
          type="date"
          id="birthDate"
          formControlName="birthDate"
          class="form-control"
          [min]="minBirthDate | date : 'yyyy-MM-dd'"
          [max]="maxBirthDate | date : 'yyyy-MM-dd'"
        />
        <div
          *ngIf="
            form.get('birthDate')?.touched && form.get('birthDate')?.invalid
          "
          class="text-danger"
        >
          <div *ngIf="form.get('birthDate')?.errors?.['required']">
            Заполните дату рождения
          </div>
          <div
            *ngIf="form.get('birthDate')?.errors?.['min'] || form.get('birthDate')?.errors?.['max']"
          >
            Сотрудник должен иметь возраст от 18 до 70 лет
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group">
        <label for="employmentDate">Дата трудоустройства</label>
        <input
          type="date"
          id="employmentDate"
          formControlName="employmentDate"
          class="form-control"
          [min]="minEmploymentDate | date : 'yyyy-MM-dd'"
        />
        <div
          *ngIf="
            form.get('employmentDate')?.touched &&
            form.get('employmentDate')?.invalid
          "
          class="text-danger"
        >
          <div *ngIf="form.get('employmentDate')?.errors?.['required']">
            Заполните дату трудоустройства
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="salary">Зарплата</label>
    <input
      type="number"
      id="salary"
      formControlName="salary"
      class="form-control"
    />
    <div
      *ngIf="form.get('salary')?.touched && form.get('salary')?.invalid"
      class="text-danger"
    >
      <div *ngIf="form.get('salary')?.errors?.['required']">
        Заполните зарплату
      </div>
      <div *ngIf="form.get('salary')?.errors?.['min']">
        Зарплата не может быть меньше 0
      </div>
      <div *ngIf="form.get('salary')?.errors?.['max']">
        Зарплата не может привышать 10 000 000 руб.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="department">Отдел</label>
    <input
      type="text"
      id="department"
      formControlName="department"
      class="form-control"
    />
    <div
      *ngIf="
        form.get('department')?.touched && form.get('department')?.invalid
      "
      class="text-danger"
    >
      <div *ngIf="form.get('department')?.errors?.['required']">
        Заполните отдел
      </div>
    </div>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
      {{ mode == 'update' ? 'Обновить' : 'Создать' }}
    </button>
    <button type="button" class="btn btn-secondary ml-2" (click)="onCancel()">
      Cancel
    </button>
  </div>
</form>
